{"version":3,"sources":["containers/Search/SearchInput/SearchInputView.tsx","containers/Search/SearchInput/SearchInput.tsx","containers/MovieCard/MovieCardView.tsx","models/Asset.ts","services/api/index.ts","store/AsyncStore.ts","store/AppStore.ts","store/SearchStore.ts","store/MyMoviesStore.ts","store/AssetStore.ts","store/GenresStore.ts","store/FilterStore.ts","store/MoviesStore.ts","store/RootStore.ts","store/index.tsx","containers/MovieCard/MovieCard.tsx","components/Heading/HeadingView.tsx","static/images/spinner.svg","components/Loader/LoaderView.tsx","containers/Filter/FilterView.tsx","containers/Filter/Filter.tsx","containers/Search/SearchView.tsx","containers/Search/Search.tsx","containers/Watchlist/WatchlistView.tsx","containers/Watchlist/Watchlist.tsx","components/Lane/LaneView.tsx","constants/index.ts","pages/Home/HomeView.tsx","util/ShakaPlayer.ts","components/Player/Player.tsx","components/Button/LinkButton.tsx","containers/Details/DetailsView.tsx","containers/Details/Details.tsx","pages/Asset/AssetView.tsx","pages/Asset/Asset.tsx","pages/Player/PlayerView.tsx","containers/App/Router.tsx","containers/App/App.tsx","index.tsx","util/dates.ts","util/index.ts"],"names":["SearchInputView","onChange","placeholder","value","className","icon","searchIcon","SearchInput","handleChange","useCallback","e","target","MovieCardView","asset","posterPath","isInWatchlist","onWatchlistClick","to","isSeries","id","onClick","classnames","heartF","heart","alt","title","src","Asset","poster_path","overview","release_date","genre_ids","genres","backdrop_path","name","first_air_date","this","ApiService","fetch","BASE_URL","API_KEY","response","json","result","ok","Error","status_message","console","error","query","page","date","Date","month","getMonth","toString","padStart","day","getDate","toDate","setDate","toDay","toMonth","getFullYear","key","ids","join","process","AsyncStore","action","bound","rootStore","resetData","isFetching","data","message","results","saveResults","observable","AppStore","apiService","configure","handleSuccess","log","handleError","path","images","base_url","SearchStore","filterStore","filter","startFetching","search","filters","length","movie","genre","includes","genresIds","reduce","acc","uniq","computed","MyMoviesStore","index","findIndex","m","splice","AssetStore","series","GenresStore","categories","FilterStore","item","MoviesStore","getFreshMovies","movies","onCinema","map","getPopular","getByGenres","popular","popularSeries","RootStore","searchStore","myMoviesStore","assetStore","genresStore","moviesStore","appStore","storeContext","React","createContext","useStore","store","useContext","observer","app","getImageUrl","myMovies","contains","handleWatchlistClick","preventDefault","removeMovie","addMovie","Heading","children","_extends","Object","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","fill","stroke","transform","attributeName","type","dur","repeatCount","keyTimes","values","_ref","svgRef","props","style","margin","background","display","shapeRendering","width","height","viewBox","preserveAspectRatio","ref","ForwardRef","forwardRef","Loader","FilterView","onFilter","options","optionsIds","activeFilters","option","setFilter","resultsGenreIds","SearchView","useState","updateValue","useRef","debounce","searchFor","current","filteredSearchResults","WatchlistView","isEmpty","settings","dots","infinite","speed","slidesToShow","slidesToScroll","variableWidth","nextArrow","arrowLeft","prevArrow","arrowRight","LaneView","items","Array","isArray","GENRES","DOCUMENTARY","FAMILY","Shaka","url","video","player","init","shaka","installAll","isBrowserSupported","initPlayer","onError","a","async","addEventListener","load","deInitialize","removeEventListener","window","alert","Player","poster","useEffect","shakaPlayer","controls","autoPlay","LinkButton","caption","DetailsView","imgUrl","formatDate","AssetView","isLoading","match","params","assetType","fetchSeries","fetchMovie","showClose","setShowClose","history","useHistory","setTimeout","onMouseMove","onTouchStart","push","closeCircle","Router","component","Movie","Home","getGenres","getByGenre","ReactDOM","render","useLocalStore","Provider","document","getElementById","toLocaleDateString","year"],"mappings":"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","file":"static/js/main.6ddc99b3.chunk.js","sourcesContent":["import React from \"react\";\nimport { Icon } from \"@iconify/react\";\nimport searchIcon from \"@iconify/icons-jam/search\";\n\nimport \"./style.css\";\n\nexport interface IProps {\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  value: string;\n  placeholder?: string;\n}\n\nconst SearchInputView = ({ onChange, placeholder, value }: IProps) => (\n  <div className=\"SearchInput\">\n    <Icon icon={searchIcon} />\n    <input placeholder={placeholder} onChange={onChange} value={value} />\n  </div>\n);\n\nexport default SearchInputView;\n","import React, { useCallback } from \"react\";\nimport SearchInputView from \"./SearchInputView\";\n\nexport interface IProps {\n  onChange: (value: string) => void;\n  value: string;\n  placeholder?: string;\n}\n\nconst SearchInput = ({ onChange, value, placeholder }: IProps) => {\n  const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => onChange(e.target.value), [onChange]);\n  return <SearchInputView onChange={handleChange} value={value} placeholder={placeholder} />;\n};\n\nexport default SearchInput;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Icon } from \"@iconify/react\";\nimport heartF from \"@iconify/icons-jam/heart-f\";\nimport heart from \"@iconify/icons-jam/heart\";\nimport classnames from \"classnames\";\n\nimport { IAsset } from \"../../models/Asset\";\n\nimport \"./style.css\";\n\nexport interface IProps {\n  asset: IAsset;\n  posterPath: string;\n  isInWatchlist: boolean;\n  onWatchlistClick: (e: React.MouseEvent<HTMLSpanElement, MouseEvent>) => void;\n}\n\nconst MovieCardView = ({ asset, posterPath, isInWatchlist, onWatchlistClick }: IProps) => (\n  <Link className=\"MovieCard\" to={`/${asset.isSeries ? \"series\" : \"movie\"}/${asset.id}`}>\n    <div className=\"MovieCard__buttons\">\n      <span onClick={onWatchlistClick}>\n        <Icon className={classnames(\"MovieCard__icon\", { \"MovieCard__icon--selected\": isInWatchlist })} icon={isInWatchlist ? heartF : heart}></Icon>\n      </span>\n    </div>\n    <img className=\"MovieCard__img\" alt={asset.title} src={posterPath} />\n    <div className=\"MovieCard__title\">{asset.title}</div>\n  </Link>\n);\n\nexport default MovieCardView;\n","import { Nullable } from \"../util\";\nimport { IGenre } from \"./Genre\";\n\nexport interface IAsset {\n  poster_path: Nullable<string>;\n  overview: string;\n  release_date: string;\n  genre_ids: number[];\n  genres: IGenre[];\n  id: number;\n  title: string;\n  backdrop_path: Nullable<string>;\n  isSeries: boolean;\n}\n\nexport class Asset implements IAsset {\n  poster_path: Nullable<string>;\n  overview: string;\n  release_date: string;\n  genre_ids: number[];\n  genres: IGenre[];\n  id: number;\n  title: string;\n  backdrop_path: Nullable<string>;\n  isSeries: boolean;\n\n  constructor({ poster_path, overview, release_date, genre_ids, genres, id, title, backdrop_path, name, first_air_date }: any) {\n    this.poster_path = poster_path;\n    this.overview = overview;\n    this.release_date = first_air_date || release_date;\n    this.genre_ids = genre_ids || [];\n    this.genres = genres || [];\n    this.id = id;\n    this.title = name || title;\n    this.backdrop_path = backdrop_path;\n    this.isSeries = !!first_air_date;\n  }\n}\n","import { IConfigureResult } from \"../../models/ConfigureResult\";\nimport { ISearchResult } from \"../../models/SearchResult\";\nimport { IAsset, Asset } from \"../../models/Asset\";\nimport { IGenre } from \"../../models/Genre\";\n\nexport default class ApiService {\n  private static BASE_URL = process.env.REACT_APP_API_URL;\n  private static API_KEY = process.env.REACT_APP_API_KEY;\n\n  // https://developers.themoviedb.org/3/configuration/get-api-configuration\n  async configure(): Promise<IConfigureResult> {\n    try {\n      const response = await fetch(`${ApiService.BASE_URL}/configuration?api_key=${ApiService.API_KEY}`);\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw Error(result.status_message);\n      }\n      return result;\n    } catch (e) {\n      console.error(e);\n      throw Error(\"Failed to fetch configuration\");\n    }\n  }\n\n  // https://developers.themoviedb.org/3/search/search-movies\n  async search(query: string, page: number = 1): Promise<ISearchResult> {\n    try {\n      const response = await fetch(`${ApiService.BASE_URL}/search/movie?api_key=${ApiService.API_KEY}&query=${query}&page=${page}`);\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw Error(result.status_message);\n      }\n      return result;\n    } catch (e) {\n      console.error(e);\n      throw Error(\"Failed to fetch search results\");\n    }\n  }\n\n  // https://developers.themoviedb.org/3/movies/get-movie-details\n  async movie(id: string): Promise<IAsset> {\n    try {\n      const response = await fetch(`${ApiService.BASE_URL}/movie/${id}?api_key=${ApiService.API_KEY}`);\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw Error(result.status_message);\n      }\n      return new Asset(result);\n    } catch (e) {\n      console.error(e);\n      throw Error(\"Failed to fetch movie\");\n    }\n  }\n\n  async series(id: string): Promise<IAsset> {\n    try {\n      const response = await fetch(`${ApiService.BASE_URL}/tv/${id}?api_key=${ApiService.API_KEY}`);\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw Error(result.status_message);\n      }\n      return new Asset(result);\n    } catch (e) {\n      console.error(e);\n      throw Error(\"Failed to fetch series\");\n    }\n  }\n\n  // https://developers.themoviedb.org/3/movies/get-movie-details\n  async categories(): Promise<IGenre[]> {\n    try {\n      const response = await fetch(`${ApiService.BASE_URL}/genre/movie/list?api_key=${ApiService.API_KEY}`);\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw Error(result.status_message);\n      }\n      return result.genres;\n    } catch (e) {\n      console.error(e);\n      throw Error(\"Failed to fetch movie\");\n    }\n  }\n\n  // https://developers.themoviedb.org/3/discover/movie-discover\n  async getFreshMovies(date: Date = new Date(), page: number = 1): Promise<ISearchResult> {\n    try {\n      const month = (date.getMonth() + 1).toString().padStart(2, \"0\");\n      const day = date\n        .getDate()\n        .toString()\n        .padStart(2, \"0\");\n      const toDate = new Date(date);\n      toDate.setDate(toDate.getDate() + 7);\n      const toDay = toDate\n        .getDate()\n        .toString()\n        .padStart(2, \"0\");\n      const toMonth = (toDate.getMonth() + 1).toString().padStart(2, \"0\");\n\n      const response = await fetch(\n        `${ApiService.BASE_URL}/discover/movie?api_key=${\n          ApiService.API_KEY\n        }&primary_release_date.gte=${date.getFullYear()}-${month}-${day}&primary_release_date.lte=${toDate.getFullYear()}-${toMonth}-${toDay}&page=${page}`,\n      );\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw Error(result.status_message);\n      }\n      return result;\n    } catch (e) {\n      console.error(e);\n      throw Error(\"Failed to fetch fresh movies\");\n    }\n  }\n\n  async getPopular(isSeries?: boolean): Promise<ISearchResult> {\n    try {\n      const key = isSeries ? \"tv\" : \"movie\";\n      const response = await fetch(`${ApiService.BASE_URL}/discover/${key}?sort_by=popularity.desc&api_key=${ApiService.API_KEY}`);\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw Error(result.status_message);\n      }\n      return result;\n    } catch (e) {\n      console.error(e);\n      throw Error(\"Failed to fetch movie\");\n    }\n  }\n\n  async getByGenres(ids: number[]): Promise<ISearchResult> {\n    try {\n      const response = await fetch(`${ApiService.BASE_URL}/discover/movie?with_genres=${ids.join(\",\")}&api_key=${ApiService.API_KEY}`);\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw Error(result.status_message);\n      }\n      return result;\n    } catch (e) {\n      console.error(e);\n      throw Error(\"Failed to fetch movie\");\n    }\n  }\n}\n","import { observable, action } from \"mobx\";\n\nimport RootStore from \"./RootStore\";\nimport { Nullable } from \"../util\";\n\nexport default class AsyncStore<T> {\n  private rootStore: RootStore;\n\n  @observable\n  public isFetching = false;\n  @observable\n  public error: Nullable<string> = null;\n  @observable\n  public data: Nullable<T> = null;\n\n  constructor(rootStore: RootStore) {\n    this.rootStore = rootStore;\n  }\n\n  @action.bound\n  protected startFetching(resetData: Boolean = true) {\n    this.isFetching = true;\n    this.error = null;\n    if (resetData) {\n      this.data = null;\n    }\n  }\n\n  @action.bound\n  protected handleError(message: string) {\n    this.error = message;\n    this.isFetching = false;\n  }\n\n  @action.bound\n  protected handleSuccess(results: T, saveResults: Boolean = true) {\n    if (saveResults) {\n      this.data = results;\n    }\n    this.isFetching = false;\n    this.error = null;\n  }\n}\n","import AsyncStore from \"./AsyncStore\";\nimport ApiService from \"../services/api\";\nimport { IConfigureResult } from \"../models/ConfigureResult\";\nimport RootStore from \"./RootStore\";\n\nexport default class AppStore extends AsyncStore<IConfigureResult> {\n  private apiService: ApiService;\n\n  constructor(rootStore: RootStore, apiService: ApiService) {\n    super(rootStore);\n    this.apiService = apiService;\n  }\n\n  public async configure() {\n    try {\n      const result = await this.apiService.configure();\n      this.handleSuccess(result);\n    } catch (e) {\n      console.log(\"AppStore.configure\", { e });\n      this.handleError(e.message);\n    }\n  }\n\n  public getImageUrl(path: string) {\n    if (this.data) {\n      return `${this.data.images.base_url}original${path}`;\n    }\n    return null;\n  }\n}\n","import { computed } from \"mobx\";\nimport uniq from \"lodash/uniq\";\n\nimport AsyncStore from \"./AsyncStore\";\nimport RootStore from \"./RootStore\";\nimport { IAsset } from \"../models/Asset\";\nimport ApiService from \"../services/api\";\nimport { Nullable } from \"../util\";\nimport FilterStore from \"./FilterStore\";\n\nexport default class SearchStore extends AsyncStore<IAsset[]> {\n  private apiService: ApiService;\n\n  private filterStore: FilterStore;\n\n  constructor(rootStore: RootStore, apiService: ApiService) {\n    super(rootStore);\n    this.apiService = apiService;\n    this.filterStore = rootStore.filter;\n  }\n\n  public async searchFor(query: string) {\n    try {\n      this.startFetching();\n      const response = await this.apiService.search(query);\n      this.handleSuccess(response.results);\n    } catch (e) {\n      console.log(\"SearchStore.searchFor\", { e });\n      this.handleError(e.message);\n    }\n  }\n\n  @computed\n  get filteredSearchResults(): Nullable<IAsset[]> {\n    if (this.filterStore.filters.length && this.data) {\n      return this.data.filter(movie => movie.genre_ids && movie.genre_ids.filter(genre => this.filterStore.filters.includes(genre)).length);\n    }\n\n    return this.data;\n  }\n\n  @computed\n  get resultsGenreIds(): number[] {\n    if (this.data) {\n      const genresIds = this.data.reduce((acc: number[], movie) => {\n        if (movie.genre_ids) {\n          return [...acc, ...movie.genre_ids];\n        }\n\n        return acc;\n      }, []);\n      return uniq(genresIds);\n    }\n\n    return [];\n  }\n}\n","import RootStore from \"./RootStore\";\nimport { IAsset } from \"../models/Asset\";\nimport { observable, action, computed } from \"mobx\";\n\nexport default class MyMoviesStore {\n  private rootStore: RootStore;\n\n  @observable\n  public data = [] as IAsset[];\n\n  constructor(rootStore: RootStore) {\n    this.rootStore = rootStore;\n  }\n\n  @action\n  public addMovie(movie: IAsset) {\n    this.data = [...this.data, movie];\n  }\n\n  @action\n  public removeMovie(movie: IAsset) {\n    const index = this.data.findIndex(m => m.id === movie.id);\n    if (index >= 0) {\n      this.data.splice(index, 1);\n    }\n  }\n\n  public contains(movie: IAsset) {\n    const index = this.data.findIndex(m => m.id === movie.id);\n    return index >= 0;\n  }\n\n  @computed\n  get isEmpty() {\n    return this.data.length === 0;\n  }\n}\n","import AsyncStore from \"./AsyncStore\";\nimport RootStore from \"./RootStore\";\nimport { IAsset } from \"../models/Asset\";\nimport ApiService from \"../services/api\";\n\nexport default class AssetStore extends AsyncStore<IAsset> {\n  private apiService: ApiService;\n\n  constructor(rootStore: RootStore, apiService: ApiService) {\n    super(rootStore);\n    this.apiService = apiService;\n  }\n\n  public async fetchMovie(id: string) {\n    try {\n      this.startFetching();\n      const response = await this.apiService.movie(id);\n      this.handleSuccess(response);\n    } catch (e) {\n      console.log(\"SearchStore.searchFor\", { e });\n      this.handleError(e.message);\n    }\n  }\n\n  public async fetchSeries(id: string) {\n    try {\n      this.startFetching();\n      const response = await this.apiService.series(id);\n      this.handleSuccess(response);\n    } catch (e) {\n      console.log(\"SearchStore.searchFor\", { e });\n      this.handleError(e.message);\n    }\n  }\n}\n","import AsyncStore from \"./AsyncStore\";\nimport RootStore from \"./RootStore\";\nimport ApiService from \"../services/api\";\nimport { IGenres } from \"../models/Genres\";\n\nexport default class GenresStore extends AsyncStore<IGenres> {\n  private apiService: ApiService;\n\n  constructor(rootStore: RootStore, apiService: ApiService) {\n    super(rootStore);\n    this.apiService = apiService;\n  }\n\n  public async getGenres() {\n    try {\n      this.startFetching();\n      const response = await this.apiService.categories();\n      const data = response.reduce((acc, genre) => {\n        return { ...acc, [genre.id]: genre.name };\n      }, {});\n      this.handleSuccess(data);\n    } catch (e) {\n      console.log(\"SearchStore.getGenres\", { e });\n      this.handleError(e.message);\n    }\n  }\n}\n","import RootStore from \"./RootStore\";\nimport { observable, action } from \"mobx\";\n\nexport default class FilterStore {\n  private rootStore: RootStore;\n\n  @observable\n  public filters: number[] = [];\n\n  constructor(rootStore: RootStore) {\n    this.rootStore = rootStore;\n  }\n\n  @action.bound\n  public setFilter(id: number) {\n    if (this.filters.includes(id)) {\n      this.filters = this.filters.filter(item => item !== id);\n    } else {\n      this.filters = [...this.filters, id];\n    }\n  }\n}\n","import RootStore from \"./RootStore\";\nimport { observable, action } from \"mobx\";\nimport { IMovies } from \"../models/Movies\";\nimport { Nullable } from \"../util\";\nimport ApiService from \"../services/api/index\";\nimport { Asset } from \"../models/Asset\";\n\nexport default class MoviesStore {\n  private rootStore: RootStore;\n  private apiService: ApiService;\n\n  @observable\n  public isFetching = false;\n  @observable\n  public error: Nullable<string> = null;\n\n  @observable\n  public movies: IMovies = {\n    onCinema: [],\n    popular: [],\n    popularSeries: [],\n    genres: {},\n  };\n\n  constructor(rootStore: RootStore, apiService: ApiService) {\n    this.rootStore = rootStore;\n    this.apiService = apiService;\n  }\n\n  @action.bound\n  public async getFreshMovies(date?: Date) {\n    try {\n      this.isFetching = true;\n      const response = await this.apiService.getFreshMovies(date);\n      this.movies.onCinema = response.results.map(item => new Asset(item));\n      this.isFetching = false;\n    } catch (e) {\n      this.error = e.message;\n      this.isFetching = false;\n    }\n  }\n  @action.bound\n  public async getPopular(isSeries?: boolean) {\n    try {\n      const key = isSeries ? \"popularSeries\" : \"popular\";\n      this.isFetching = true;\n      const response = await this.apiService.getPopular(isSeries);\n      this.movies[key] = response.results.map(item => new Asset(item));\n      this.isFetching = false;\n    } catch (e) {\n      this.error = e.message;\n      this.isFetching = false;\n    }\n  }\n\n  @action.bound\n  public async getByGenre(id: number) {\n    try {\n      this.isFetching = true;\n      const response = await this.apiService.getByGenres([id]);\n      this.movies.genres[id] = response.results.map(item => new Asset(item));\n      this.isFetching = false;\n    } catch (e) {\n      this.error = e.message;\n      this.isFetching = false;\n    }\n  }\n}\n","import { observable } from \"mobx\";\nimport ApiService from \"../services/api\";\nimport AppStore from \"./AppStore\";\nimport SearchStore from \"./SearchStore\";\nimport MyMoviesStore from \"./MyMoviesStore\";\nimport AssetStore from \"./AssetStore\";\nimport GenresStore from \"./GenresStore\";\nimport FilterStore from \"./FilterStore\";\nimport MoviesStore from \"./MoviesStore\";\n\nexport default class RootStore {\n  @observable\n  private appStore: AppStore;\n  private searchStore: SearchStore;\n  private myMoviesStore: MyMoviesStore;\n  private assetStore: AssetStore;\n  private genresStore: GenresStore;\n  private filterStore: FilterStore;\n  private moviesStore: MoviesStore;\n\n  constructor(apiService: ApiService) {\n    this.appStore = new AppStore(this, apiService);\n    this.myMoviesStore = new MyMoviesStore(this);\n    this.assetStore = new AssetStore(this, apiService);\n    this.genresStore = new GenresStore(this, apiService);\n    this.filterStore = new FilterStore(this);\n    this.searchStore = new SearchStore(this, apiService);\n    this.moviesStore = new MoviesStore(this, apiService);\n  }\n\n  get app() {\n    return this.appStore;\n  }\n\n  get search() {\n    return this.searchStore;\n  }\n\n  get myMovies() {\n    return this.myMoviesStore;\n  }\n\n  get asset() {\n    return this.assetStore;\n  }\n\n  get genres() {\n    return this.genresStore;\n  }\n\n  get filter() {\n    return this.filterStore;\n  }\n\n  get movies() {\n    return this.moviesStore;\n  }\n}\n","import { useLocalStore } from \"mobx-react\";\nimport React from \"react\";\nimport ApiService from \"../services/api\";\nimport RootStore from \"./RootStore\";\nimport { Nullable } from \"../util\";\n\nconst storeContext = React.createContext<Nullable<RootStore>>(null);\n\nexport const StoreProvider: React.FunctionComponent = ({ children }) => {\n  const store = useLocalStore(() => new RootStore(new ApiService()));\n  return <storeContext.Provider value={store}>{children}</storeContext.Provider>;\n};\n\nexport const useStore = () => {\n  const store = React.useContext(storeContext);\n  if (!store) {\n    throw new Error(\"StoreProvider is missing\");\n  }\n  return store;\n};\n","import React, { useCallback } from \"react\";\nimport { observer } from \"mobx-react\";\n\nimport MovieCardView from \"./MovieCardView\";\nimport { IAsset } from \"../../models/Asset\";\nimport { useStore } from \"../../store\";\n\nexport interface IProps {\n  asset: IAsset;\n}\n\nconst MovieCard = ({ asset }: IProps) => {\n  const store = useStore();\n  const posterPath = (asset.poster_path && store.app.getImageUrl(asset.poster_path)) || \"data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=\";\n  const isInWatchlist = store.myMovies.contains(asset);\n  const handleWatchlistClick = useCallback(\n    (e: React.MouseEvent<HTMLSpanElement, MouseEvent>) => {\n      e.preventDefault();\n      if (store.myMovies.contains(asset)) {\n        store.myMovies.removeMovie(asset);\n      } else {\n        store.myMovies.addMovie(asset);\n      }\n    },\n    [asset, store.myMovies],\n  );\n  return <MovieCardView asset={asset} posterPath={posterPath} isInWatchlist={isInWatchlist} onWatchlistClick={handleWatchlistClick} />;\n};\n\nexport default observer(MovieCard);\n","import React from 'react';\n\nimport './style.css';\n\nconst Heading: React.FunctionComponent = ({ children }) => <h2 className=\"Heading\">{children}</h2>;\n\nexport default Heading;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M10 50A40 40 0 0 0 90 50A40 42.3 0 0 1 10 50\",\n  fill: \"#ff5209\",\n  stroke: \"none\",\n  transform: \"rotate(230.178 50 51.15)\"\n}, React.createElement(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"rotate\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\",\n  keyTimes: \"0;1\",\n  values: \"0 50 51.15;360 50 51.15\"\n}));\n\nvar SvgSpinner = function SvgSpinner(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    style: {\n      margin: \"auto\",\n      background: \"none\",\n      display: \"block\",\n      shapeRendering: \"auto\"\n    },\n    width: \"100px\",\n    height: \"100px\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgSpinner, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/spinner.7b7c83ca.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { ReactComponent as Spinner } from \"../../static/images/spinner.svg\";\n\nconst Loader: React.FunctionComponent = () => <Spinner />;\n\nexport default Loader;\n","import React from \"react\";\nimport classnames from \"classnames\";\n\nimport \"./style.css\";\nimport { IGenres } from \"../../models/Genres\";\n\nexport interface IProps {\n  onFilter: (value: number) => void;\n  optionsIds: number[];\n  activeFilters: number[];\n  options: IGenres;\n}\n\nconst FilterView = ({ onFilter, options, optionsIds, activeFilters }: IProps) => (\n  <div className=\"Filter\">\n    <p className=\"Filter__title\">Filter: </p>\n    {optionsIds.map(option => (\n      <button key={option} onClick={() => onFilter(option)} className={classnames(\"Filter__button\", { \"Filter__button--active\": activeFilters.includes(option) })}>\n        {options[option]}\n      </button>\n    ))}\n  </div>\n);\n\nexport default FilterView;\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\n\nimport FilterView from \"./FilterView\";\nimport { useStore } from \"../../store\";\n\nconst Filter = () => {\n  const store = useStore();\n  return <FilterView onFilter={store.filter.setFilter} optionsIds={store.search.resultsGenreIds} activeFilters={store.filter.filters} options={store.genres.data || {}} />;\n};\n\nexport default observer(Filter);\n","import React from \"react\";\nimport SearchInput from \"./SearchInput\";\nimport MovieCard from \"../MovieCard\";\nimport { IAsset } from \"../../models/Asset\";\nimport { Nullable } from \"../../util\";\n\nimport \"./style.css\";\nimport Heading from \"../../components/Heading\";\nimport Loader from \"../../components/Loader\";\nimport Filter from \"../Filter\";\n\nexport interface IProps {\n  onChange: (value: string) => void;\n  value: string;\n  isFetching: boolean;\n  results: Nullable<IAsset[]>;\n}\n\nconst SearchView = ({ onChange, value, isFetching, results }: IProps) => (\n  <div className=\"Search\">\n    <div className=\"Search__input-container\">\n      <SearchInput onChange={onChange} value={value} placeholder=\"Search...\" />\n    </div>\n    <div className=\"Search__results\">\n      <div className=\"Search__container\">{isFetching || results !== null ? <Heading>Search results</Heading> : null}</div>\n      <div className=\"Search__container\">{results !== null && <Filter />}</div>\n      {isFetching ? (\n        <div>\n          <Loader />\n        </div>\n      ) : null}\n      {results ? results.map(movie => <MovieCard key={movie.id} asset={movie} />) : null}\n    </div>\n  </div>\n);\n\nexport default SearchView;\n","import React, { useCallback, useRef, useState } from \"react\";\nimport debounce from \"lodash/debounce\";\nimport { observer } from \"mobx-react\";\n\nimport SearchView from \"./SearchView\";\nimport { useStore } from \"../../store\";\n\nconst Search = () => {\n  const store = useStore();\n  const [value, updateValue] = useState(\"\");\n\n  const { current: search } = useRef(debounce((query: string) => store.search.searchFor(query), 500));\n  const handleChange = useCallback(\n    (value: string) => {\n      updateValue(value);\n      search(value);\n    },\n    [updateValue, search],\n  );\n  return <SearchView onChange={handleChange} value={value} results={store.search.filteredSearchResults} isFetching={store.search.isFetching} />;\n};\n\nexport default observer(Search);\n","import React from \"react\";\n\nimport Heading from \"../../components/Heading\";\nimport MovieCard from \"../../containers/MovieCard\";\nimport { IAsset } from \"../../models/Asset\";\n\nimport \"./style.css\";\n\nexport interface IProps {\n  myMovies: IAsset[];\n  isEmpty: boolean;\n}\n\nconst WatchlistView = ({ myMovies, isEmpty }: IProps) => (\n  <div className=\"Watchlist\">\n    <Heading>Watchlist</Heading>\n    <div className=\"Watchlist__results\">{isEmpty ? \"You don't have any movies added to your watchlist.\" : myMovies.map(movie => <MovieCard key={movie.id} asset={movie} />)}</div>\n  </div>\n);\n\nexport default WatchlistView;\n","import React from \"react\";\nimport WatchlistView from \"./WatchlistView\";\nimport { observer } from \"mobx-react\";\nimport { useStore } from \"../../store\";\n\nconst Watchlist = () => {\n  const store = useStore();\n  return <WatchlistView myMovies={store.myMovies.data} isEmpty={store.myMovies.isEmpty} />;\n};\n\nexport default observer(Watchlist);\n","import React from \"react\";\nimport Slider from \"react-slick\";\nimport { Icon } from \"@iconify/react\";\nimport arrowLeft from \"@iconify/icons-jam/arrow-left\";\nimport arrowRight from \"@iconify/icons-jam/arrow-right\";\n\nimport Heading from \"../Heading\";\nimport MovieCard from \"../../containers/MovieCard\";\nimport { IAsset } from \"../../models/Asset\";\n\nimport \"./style.css\";\n\nexport interface IProps {\n  items: IAsset[];\n  title: string;\n}\n\nconst PrevArrow = (props: React.BaseHTMLAttributes<{}>) => (\n  <div {...props}>\n    <Icon icon={arrowLeft} />\n  </div>\n);\nconst NextArrow = (props: React.BaseHTMLAttributes<{}>) => (\n  <div {...props}>\n    <Icon icon={arrowRight} />\n  </div>\n);\n\nconst settings = {\n  dots: false,\n  infinite: true,\n  speed: 500,\n  slidesToShow: 1,\n  slidesToScroll: 1,\n  variableWidth: true,\n  nextArrow: <PrevArrow />,\n  prevArrow: <NextArrow />,\n};\n\nconst LaneView = ({ items, title }: IProps) =>\n  Array.isArray(items) && items.length ? (\n    <div className=\"Lane\">\n      <Heading>{title}</Heading>\n      <Slider className=\"Lane__results\" {...settings}>\n        {items.map(item => (\n          <MovieCard key={item.id} asset={item} />\n        ))}\n      </Slider>\n    </div>\n  ) : null;\n\nexport default LaneView;\n","export const GENRES = {\n  DOCUMENTARY: 99,\n  FAMILY: 10751,\n};\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\n\nimport \"./style.css\";\nimport { Search } from \"../../containers\";\nimport Watchlist from \"../../containers/Watchlist\";\nimport Lane from \"../../components/Lane\";\nimport { useStore } from \"../../store\";\nimport { GENRES } from \"../../constants\";\n\nconst { DOCUMENTARY, FAMILY } = GENRES;\n\nconst HomeView = () => {\n  const store = useStore();\n\n  return (\n    <div className=\"Home\">\n      <Search />\n      <Lane title=\"Popular movies\" items={store.movies.movies.popular} />\n      <Lane title=\"Popular series\" items={store.movies.movies.popularSeries} />\n      <Lane title=\"Family\" items={store.movies.movies.genres[FAMILY]} />\n      <Lane title=\"Documentary\" items={store.movies.movies.genres[DOCUMENTARY]} />\n      <Watchlist />\n    </div>\n  );\n};\n\nexport default observer(HomeView);\n","import * as shaka from \"shaka-player\";\n\nimport { IShaka } from \"../models/Shaka\";\nimport { Nullable } from \"./type\";\n\nexport default class Shaka implements IShaka {\n  url: string;\n  video: HTMLVideoElement;\n  player: Nullable<any>;\n\n  constructor({ url, video }: { url: string; video: HTMLVideoElement }) {\n    this.url = url;\n    this.video = video;\n    this.player = null;\n\n    this.init();\n  }\n\n  private init = () => {\n    shaka.polyfill.installAll();\n\n    if (shaka.Player.isBrowserSupported()) {\n      this.initPlayer();\n    } else {\n      this.onError(new Error(\"Browser not supported\"));\n    }\n  };\n\n  private initPlayer = async () => {\n    const player = new shaka.Player(this.video);\n    player.addEventListener(\"error\", this.onError);\n\n    try {\n      await player.load(this.url);\n    } catch (e) {\n      this.onError(e);\n    }\n  };\n\n  public deInitialize = () => {\n    if (this.player) {\n      this.player.removeEventListener(\"error\");\n    }\n\n    this.player = null;\n  };\n\n  private onError = (e: Error) => window.alert(e.message);\n}\n","import React, { useEffect, useRef } from \"react\";\n\nimport { IShaka } from \"../../models/Shaka\";\nimport Shaka from \"../../util/ShakaPlayer\";\nimport \"./style.css\";\n\ninterface IProps {\n  url: string;\n  poster?: string;\n}\n\nconst Player = ({ url, poster }: IProps) => {\n  const video = useRef<HTMLVideoElement>(null);\n\n  useEffect(() => {\n    let shakaPlayer: IShaka;\n    if (video && video.current) {\n      shakaPlayer = new Shaka({ url, video: video.current });\n    }\n\n    return function cleanup() {\n      if (shakaPlayer) {\n        shakaPlayer.deInitialize();\n      }\n    };\n  }, [url, video]);\n\n  return (\n    <div className=\"Player\">\n      <video ref={video} id=\"video\" width=\"100%\" height=\"100%\" poster={poster} controls autoPlay></video>\n    </div>\n  );\n};\n\nexport default Player;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./style.css\";\n\ninterface IProps {\n  to: string;\n  caption: string;\n}\n\nconst LinkButton = ({ to, caption }: IProps) => (\n  <Link className=\"Button\" to={to}>\n    {caption}\n  </Link>\n);\n\nexport default LinkButton;\n","import React from \"react\";\n\nimport { IAsset } from \"../../models/Asset\";\nimport { Nullable, formatDate } from \"../../util\";\n\nimport \"./style.css\";\nimport { LinkButton } from \"../../components\";\n\nexport interface IProps {\n  asset: IAsset;\n  imgUrl: Nullable<string>;\n}\n\nconst DetailsView = ({ asset, imgUrl }: IProps) => (\n  <div className=\"Details\">\n    <div className=\"Details__overlay\">\n      <div className=\"Details__details-container\">\n        {asset ? (\n          <>\n            <h1 className=\"Details__title\">{asset.title}</h1>\n            <p>{asset.overview}</p>\n            <div className=\"Details__meta\">\n              <span className=\"Details__meta-item\">{formatDate(new Date(asset.release_date))}</span>\n            </div>\n            <div className=\"Details__meta\">\n              {asset.genres && (\n                <div className=\"Details__secondary Details__meta-item\">\n                  <span className=\"font-bold\">Categories: </span>\n                  {asset.genres.map(({ name }) => name).join(\", \")}\n                </div>\n              )}\n            </div>\n            <LinkButton to={`/player/${asset.isSeries ? \"series\" : \"movie\"}/${asset.id}`} caption=\"Play asset\" />\n          </>\n        ) : null}\n      </div>\n      {imgUrl && (\n        <div className=\"Details__image-container\">\n          <img className=\"Details__image\" src={imgUrl} alt=\"\" />\n        </div>\n      )}\n    </div>\n  </div>\n);\n\nexport default DetailsView;\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport { IAsset } from \"../../models/Asset\";\nimport DetailsView from \"./DetailsView\";\nimport { useStore } from \"../../store\";\n\nexport interface IProps {\n  asset: IAsset;\n}\n\nconst Details = ({ asset }: IProps) => {\n  const store = useStore();\n  const imgUrl = asset.poster_path ? store.app.getImageUrl(asset.poster_path) : null;\n  return <DetailsView asset={asset} imgUrl={imgUrl} />;\n};\n\nexport default observer(Details);\n","import React from \"react\";\nimport { IAsset } from \"../../models/Asset\";\nimport { Nullable } from \"../../util\";\n\nimport Details from \"../../containers/Details\";\nimport Loader from \"../../components/Loader/LoaderView\";\n\nexport interface IProps {\n  asset: Nullable<IAsset>;\n  isLoading: boolean;\n}\n\nconst AssetView = ({ asset, isLoading }: IProps) => (isLoading ? <Loader /> : asset === null ? <span>error</span> : <Details asset={asset!} />);\n\nexport default AssetView;\n","import React, { useEffect } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport { observer } from \"mobx-react\";\n\nimport AssetView from \"./AssetView\";\nimport { useStore } from \"../../store\";\n\ninterface IRouteParams {\n  id: string;\n  assetType: string;\n}\n\nconst Asset = ({ match }: RouteComponentProps<IRouteParams>) => {\n  const store = useStore();\n\n  useEffect(() => {\n    const { id, assetType } = match.params;\n    if (assetType === \"series\") {\n      store.asset.fetchSeries(id);\n    } else {\n      store.asset.fetchMovie(id);\n    }\n  }, [match.params, store.asset]);\n\n  return <AssetView asset={store.asset.data} isLoading={store.asset.isFetching} />;\n};\n\nexport default observer(Asset);\n","import React, { useEffect, useState } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport { useHistory } from \"react-router-dom\";\nimport { observer } from \"mobx-react\";\nimport { Icon } from \"@iconify/react\";\nimport closeCircle from \"@iconify/icons-jam/close-circle\";\n\nimport { useStore } from \"../../store\";\nimport { Player } from \"../../components\";\n\nimport \"./style.css\";\n\nconst STREAM = \"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\";\n// const STREAM = \"https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8\";\n\ninterface IRouteParams {\n  id: string;\n  assetType: string;\n}\n\nconst PlayerView = ({ match }: RouteComponentProps<IRouteParams>) => {\n  const store = useStore();\n  const [showClose, setShowClose] = useState(true);\n  const history = useHistory();\n  const { asset } = store;\n  const { id, assetType } = match.params;\n\n  useEffect(() => {\n    if (assetType === \"series\") {\n      asset.fetchSeries(id);\n    } else {\n      asset.fetchMovie(id);\n    }\n  }, [match.params, asset]);\n\n  useEffect(() => {\n    if (showClose) {\n      window.setTimeout(() => setShowClose(false), 2000);\n    }\n  }, [showClose]);\n\n  const poster = asset.data && asset.data.poster_path ? store.app.getImageUrl(asset.data.poster_path) : null;\n\n  return (\n    <div className=\"PlayerPage\" onMouseMove={() => setShowClose(true)} onTouchStart={() => setShowClose(true)}>\n      {showClose && (\n        <div\n          className=\"PlayerPage__close\"\n          onClick={() => {\n            history.push(`/${assetType}/${id}`);\n          }}\n        >\n          <Icon icon={closeCircle} />\n        </div>\n      )}\n      <Player url={STREAM} poster={poster || \"\"} />\n    </div>\n  );\n};\n\nexport default observer(PlayerView);\n","import React from \"react\";\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\n\nimport Home from \"../../pages/Home\";\nimport Movie from \"../../pages/Asset\";\nimport Player from \"../../pages/Player\";\n\nconst Router = () => (\n  <HashRouter>\n    <Switch>\n      <Route path=\"/player/:assetType/:id\" component={Player} />\n      <Route path=\"/:assetType/:id\" component={Movie} />\n      <Route component={Home} />\n    </Switch>\n  </HashRouter>\n);\n\nexport default Router;\n","import \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport React, { useEffect } from \"react\";\nimport Router from \"./Router\";\nimport { observer } from \"mobx-react-lite\";\n\nimport { useStore } from \"../../store\";\nimport { GENRES } from \"../../constants\";\n\nconst { DOCUMENTARY, FAMILY } = GENRES;\n\nconst App = () => {\n  const store = useStore();\n  useEffect(() => {\n    store.app.configure();\n    store.genres.getGenres();\n    store.movies.getPopular();\n    store.movies.getPopular(true);\n    store.movies.getByGenre(FAMILY);\n    store.movies.getByGenre(DOCUMENTARY);\n  }, [store.app, store.genres, store.movies]);\n  return <Router />;\n};\n\nexport default observer(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./containers/App\";\nimport \"./index.css\";\nimport { StoreProvider } from \"./store\";\n\nReactDOM.render(\n  <StoreProvider>\n    <App />\n  </StoreProvider>,\n  document.getElementById(\"root\"),\n);\n","export const formatDate = (date: Date) => date.toLocaleDateString('en-GB', { year: 'numeric', month: 'long', day: 'numeric' });\n","export * from \"./loadStatus\";\nexport * from \"./type\";\nexport * from \"./dates\";\n"],"sourceRoot":""}