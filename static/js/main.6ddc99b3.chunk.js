(this["webpackJsonpggg-movie-app"]=this["webpackJsonpggg-movie-app"]||[]).push([[0],{125:function(e,t,r){},126:function(e,t,r){},127:function(e,t,r){},128:function(e,t,r){},144:function(e,t,r){},145:function(e,t,r){},146:function(e,t,r){},147:function(e,t,r){},148:function(e,t,r){},149:function(e,t,r){},150:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),i=r(26),s=r.n(i),c=(r(66),r(67),r(19)),o=r(5),l=r(8),u=(r(69),r(33)),p=r(49),h=r.n(p),v=r(14),f=r(50),m=r.n(f),d=(r(77),function(e){var t=e.onChange,r=e.placeholder,a=e.value;return n.a.createElement("div",{className:"SearchInput"},n.a.createElement(v.Icon,{icon:m.a}),n.a.createElement("input",{placeholder:r,onChange:t,value:a}))}),g=function(e){var t=e.onChange,r=e.value,i=e.placeholder,s=Object(a.useCallback)((function(e){return t(e.target.value)}),[t]);return n.a.createElement(d,{onChange:s,value:r,placeholder:i})},b=r(51),y=r.n(b),E=r(52),O=r.n(E),w=r(15),j=r.n(w),S=(r(78),function(e){var t=e.asset,r=e.posterPath,a=e.isInWatchlist,i=e.onWatchlistClick;return n.a.createElement(c.b,{className:"MovieCard",to:"/".concat(t.isSeries?"series":"movie","/").concat(t.id)},n.a.createElement("div",{className:"MovieCard__buttons"},n.a.createElement("span",{onClick:i},n.a.createElement(v.Icon,{className:j()("MovieCard__icon",{"MovieCard__icon--selected":a}),icon:a?y.a:O.a}))),n.a.createElement("img",{className:"MovieCard__img",alt:t.title,src:r}),n.a.createElement("div",{className:"MovieCard__title"},t.title))}),_=r(2),k=r.n(_),x=r(4),F=r(6),A=function e(t){var r=t.poster_path,a=t.overview,n=t.release_date,i=t.genre_ids,s=t.genres,c=t.id,o=t.title,l=t.backdrop_path,u=t.name,p=t.first_air_date;Object(x.a)(this,e),this.poster_path=void 0,this.overview=void 0,this.release_date=void 0,this.genre_ids=void 0,this.genres=void 0,this.id=void 0,this.title=void 0,this.backdrop_path=void 0,this.isSeries=void 0,this.poster_path=r,this.overview=a,this.release_date=p||n,this.genre_ids=i||[],this.genres=s||[],this.id=c,this.title=u||o,this.backdrop_path=l,this.isSeries=!!p},P=function(){function e(){Object(x.a)(this,e)}return Object(F.a)(e,[{key:"configure",value:function(){var t,r;return k.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k.a.awrap(fetch("".concat(e.BASE_URL,"/configuration?api_key=").concat(e.API_KEY)));case 3:return t=a.sent,a.next=6,k.a.awrap(t.json());case 6:if(r=a.sent,t.ok){a.next=9;break}throw Error(r.status_message);case 9:return a.abrupt("return",r);case 12:throw a.prev=12,a.t0=a.catch(0),console.error(a.t0),Error("Failed to fetch configuration");case 16:case"end":return a.stop()}}),null,null,[[0,12]])}},{key:"search",value:function(t){var r,a,n,i=arguments;return k.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:1,s.prev=1,s.next=4,k.a.awrap(fetch("".concat(e.BASE_URL,"/search/movie?api_key=").concat(e.API_KEY,"&query=").concat(t,"&page=").concat(r)));case 4:return a=s.sent,s.next=7,k.a.awrap(a.json());case 7:if(n=s.sent,a.ok){s.next=10;break}throw Error(n.status_message);case 10:return s.abrupt("return",n);case 13:throw s.prev=13,s.t0=s.catch(1),console.error(s.t0),Error("Failed to fetch search results");case 17:case"end":return s.stop()}}),null,null,[[1,13]])}},{key:"movie",value:function(t){var r,a;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k.a.awrap(fetch("".concat(e.BASE_URL,"/movie/").concat(t,"?api_key=").concat(e.API_KEY)));case 3:return r=n.sent,n.next=6,k.a.awrap(r.json());case 6:if(a=n.sent,r.ok){n.next=9;break}throw Error(a.status_message);case 9:return n.abrupt("return",new A(a));case 12:throw n.prev=12,n.t0=n.catch(0),console.error(n.t0),Error("Failed to fetch movie");case 16:case"end":return n.stop()}}),null,null,[[0,12]])}},{key:"series",value:function(t){var r,a;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k.a.awrap(fetch("".concat(e.BASE_URL,"/tv/").concat(t,"?api_key=").concat(e.API_KEY)));case 3:return r=n.sent,n.next=6,k.a.awrap(r.json());case 6:if(a=n.sent,r.ok){n.next=9;break}throw Error(a.status_message);case 9:return n.abrupt("return",new A(a));case 12:throw n.prev=12,n.t0=n.catch(0),console.error(n.t0),Error("Failed to fetch series");case 16:case"end":return n.stop()}}),null,null,[[0,12]])}},{key:"categories",value:function(){var t,r;return k.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k.a.awrap(fetch("".concat(e.BASE_URL,"/genre/movie/list?api_key=").concat(e.API_KEY)));case 3:return t=a.sent,a.next=6,k.a.awrap(t.json());case 6:if(r=a.sent,t.ok){a.next=9;break}throw Error(r.status_message);case 9:return a.abrupt("return",r.genres);case 12:throw a.prev=12,a.t0=a.catch(0),console.error(a.t0),Error("Failed to fetch movie");case 16:case"end":return a.stop()}}),null,null,[[0,12]])}},{key:"getFreshMovies",value:function(){var t,r,a,n,i,s,c,o,l,u=arguments;return k.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:new Date,r=u.length>1&&void 0!==u[1]?u[1]:1,p.prev=2,a=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0"),(i=new Date(t)).setDate(i.getDate()+7),s=i.getDate().toString().padStart(2,"0"),c=(i.getMonth()+1).toString().padStart(2,"0"),p.next=11,k.a.awrap(fetch("".concat(e.BASE_URL,"/discover/movie?api_key=").concat(e.API_KEY,"&primary_release_date.gte=").concat(t.getFullYear(),"-").concat(a,"-").concat(n,"&primary_release_date.lte=").concat(i.getFullYear(),"-").concat(c,"-").concat(s,"&page=").concat(r)));case 11:return o=p.sent,p.next=14,k.a.awrap(o.json());case 14:if(l=p.sent,o.ok){p.next=17;break}throw Error(l.status_message);case 17:return p.abrupt("return",l);case 20:throw p.prev=20,p.t0=p.catch(2),console.error(p.t0),Error("Failed to fetch fresh movies");case 24:case"end":return p.stop()}}),null,null,[[2,20]])}},{key:"getPopular",value:function(t){var r,a,n;return k.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,r=t?"tv":"movie",i.next=4,k.a.awrap(fetch("".concat(e.BASE_URL,"/discover/").concat(r,"?sort_by=popularity.desc&api_key=").concat(e.API_KEY)));case 4:return a=i.sent,i.next=7,k.a.awrap(a.json());case 7:if(n=i.sent,a.ok){i.next=10;break}throw Error(n.status_message);case 10:return i.abrupt("return",n);case 13:throw i.prev=13,i.t0=i.catch(0),console.error(i.t0),Error("Failed to fetch movie");case 17:case"end":return i.stop()}}),null,null,[[0,13]])}},{key:"getByGenres",value:function(t){var r,a;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k.a.awrap(fetch("".concat(e.BASE_URL,"/discover/movie?with_genres=").concat(t.join(","),"&api_key=").concat(e.API_KEY)));case 3:return r=n.sent,n.next=6,k.a.awrap(r.json());case 6:if(a=n.sent,r.ok){n.next=9;break}throw Error(a.status_message);case 9:return n.abrupt("return",a);case 12:throw n.prev=12,n.t0=n.catch(0),console.error(n.t0),Error("Failed to fetch movie");case 16:case"end":return n.stop()}}),null,null,[[0,12]])}}]),e}();P.BASE_URL="https://api.themoviedb.org/3",P.API_KEY="7e056a23486674e5d068161da83e6a5d";var M,D,N,I,B,C,R,G,L,U,Y,z,T,K,W,Q,H,J,q,V,X,Z,$=r(10),ee=r(3),te=(r(24),r(1)),re=r(17),ae=r(16),ne=r(18),ie=(M=te.d.bound,D=te.d.bound,N=te.d.bound,I=function(){function e(t){Object(x.a)(this,e),this.rootStore=void 0,Object($.a)(this,"isFetching",B,this),Object($.a)(this,"error",C,this),Object($.a)(this,"data",R,this),this.rootStore=t}return Object(F.a)(e,[{key:"startFetching",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isFetching=!0,this.error=null,e&&(this.data=null)}},{key:"handleError",value:function(e){this.error=e,this.isFetching=!1}},{key:"handleSuccess",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(this.data=e),this.isFetching=!1,this.error=null}}]),e}(),B=Object(ee.a)(I.prototype,"isFetching",[te.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=Object(ee.a)(I.prototype,"error",[te.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=Object(ee.a)(I.prototype,"data",[te.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(ee.a)(I.prototype,"startFetching",[M],Object.getOwnPropertyDescriptor(I.prototype,"startFetching"),I.prototype),Object(ee.a)(I.prototype,"handleError",[D],Object.getOwnPropertyDescriptor(I.prototype,"handleError"),I.prototype),Object(ee.a)(I.prototype,"handleSuccess",[N],Object.getOwnPropertyDescriptor(I.prototype,"handleSuccess"),I.prototype),I),se=function(e){function t(e,r){var a;return Object(x.a)(this,t),(a=Object(re.a)(this,Object(ae.a)(t).call(this,e))).apiService=void 0,a.apiService=r,a}return Object(ne.a)(t,e),Object(F.a)(t,[{key:"configure",value:function(){var e;return k.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.awrap(this.apiService.configure());case 3:e=t.sent,this.handleSuccess(e),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("AppStore.configure",{e:t.t0}),this.handleError(t.t0.message);case 11:case"end":return t.stop()}}),null,this,[[0,7]])}},{key:"getImageUrl",value:function(e){return this.data?"".concat(this.data.images.base_url,"original").concat(e):null}}]),t}(ie),ce=r(20),oe=r(54),le=r.n(oe),ue=(G=function(e){function t(e,r){var a;return Object(x.a)(this,t),(a=Object(re.a)(this,Object(ae.a)(t).call(this,e))).apiService=void 0,a.filterStore=void 0,a.apiService=r,a.filterStore=e.filter,a}return Object(ne.a)(t,e),Object(F.a)(t,[{key:"searchFor",value:function(e){var t;return k.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,this.startFetching(),r.next=4,k.a.awrap(this.apiService.search(e));case 4:t=r.sent,this.handleSuccess(t.results),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),console.log("SearchStore.searchFor",{e:r.t0}),this.handleError(r.t0.message);case 12:case"end":return r.stop()}}),null,this,[[0,8]])}},{key:"filteredSearchResults",get:function(){var e=this;return this.filterStore.filters.length&&this.data?this.data.filter((function(t){return t.genre_ids&&t.genre_ids.filter((function(t){return e.filterStore.filters.includes(t)})).length})):this.data}},{key:"resultsGenreIds",get:function(){if(this.data){var e=this.data.reduce((function(e,t){return t.genre_ids?[].concat(Object(ce.a)(e),Object(ce.a)(t.genre_ids)):e}),[]);return le()(e)}return[]}}]),t}(ie),Object(ee.a)(G.prototype,"filteredSearchResults",[te.e],Object.getOwnPropertyDescriptor(G.prototype,"filteredSearchResults"),G.prototype),Object(ee.a)(G.prototype,"resultsGenreIds",[te.e],Object.getOwnPropertyDescriptor(G.prototype,"resultsGenreIds"),G.prototype),G),pe=(L=function(){function e(t){Object(x.a)(this,e),this.rootStore=void 0,Object($.a)(this,"data",U,this),this.rootStore=t}return Object(F.a)(e,[{key:"addMovie",value:function(e){this.data=[].concat(Object(ce.a)(this.data),[e])}},{key:"removeMovie",value:function(e){var t=this.data.findIndex((function(t){return t.id===e.id}));t>=0&&this.data.splice(t,1)}},{key:"contains",value:function(e){return this.data.findIndex((function(t){return t.id===e.id}))>=0}},{key:"isEmpty",get:function(){return 0===this.data.length}}]),e}(),U=Object(ee.a)(L.prototype,"data",[te.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(ee.a)(L.prototype,"addMovie",[te.d],Object.getOwnPropertyDescriptor(L.prototype,"addMovie"),L.prototype),Object(ee.a)(L.prototype,"removeMovie",[te.d],Object.getOwnPropertyDescriptor(L.prototype,"removeMovie"),L.prototype),Object(ee.a)(L.prototype,"isEmpty",[te.e],Object.getOwnPropertyDescriptor(L.prototype,"isEmpty"),L.prototype),L),he=function(e){function t(e,r){var a;return Object(x.a)(this,t),(a=Object(re.a)(this,Object(ae.a)(t).call(this,e))).apiService=void 0,a.apiService=r,a}return Object(ne.a)(t,e),Object(F.a)(t,[{key:"fetchMovie",value:function(e){var t;return k.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,this.startFetching(),r.next=4,k.a.awrap(this.apiService.movie(e));case 4:t=r.sent,this.handleSuccess(t),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),console.log("SearchStore.searchFor",{e:r.t0}),this.handleError(r.t0.message);case 12:case"end":return r.stop()}}),null,this,[[0,8]])}},{key:"fetchSeries",value:function(e){var t;return k.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,this.startFetching(),r.next=4,k.a.awrap(this.apiService.series(e));case 4:t=r.sent,this.handleSuccess(t),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),console.log("SearchStore.searchFor",{e:r.t0}),this.handleError(r.t0.message);case 12:case"end":return r.stop()}}),null,this,[[0,8]])}}]),t}(ie),ve=r(32),fe=r(55),me=function(e){function t(e,r){var a;return Object(x.a)(this,t),(a=Object(re.a)(this,Object(ae.a)(t).call(this,e))).apiService=void 0,a.apiService=r,a}return Object(ne.a)(t,e),Object(F.a)(t,[{key:"getGenres",value:function(){var e,t;return k.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,this.startFetching(),r.next=4,k.a.awrap(this.apiService.categories());case 4:e=r.sent,t=e.reduce((function(e,t){return Object(fe.a)({},e,Object(ve.a)({},t.id,t.name))}),{}),this.handleSuccess(t),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),console.log("SearchStore.getGenres",{e:r.t0}),this.handleError(r.t0.message);case 13:case"end":return r.stop()}}),null,this,[[0,9]])}}]),t}(ie),de=(Y=te.d.bound,z=function(){function e(t){Object(x.a)(this,e),this.rootStore=void 0,Object($.a)(this,"filters",T,this),this.rootStore=t}return Object(F.a)(e,[{key:"setFilter",value:function(e){this.filters.includes(e)?this.filters=this.filters.filter((function(t){return t!==e})):this.filters=[].concat(Object(ce.a)(this.filters),[e])}}]),e}(),T=Object(ee.a)(z.prototype,"filters",[te.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(ee.a)(z.prototype,"setFilter",[Y],Object.getOwnPropertyDescriptor(z.prototype,"setFilter"),z.prototype),z),ge=(K=te.d.bound,W=te.d.bound,Q=te.d.bound,H=function(){function e(t,r){Object(x.a)(this,e),this.rootStore=void 0,this.apiService=void 0,Object($.a)(this,"isFetching",J,this),Object($.a)(this,"error",q,this),Object($.a)(this,"movies",V,this),this.rootStore=t,this.apiService=r}return Object(F.a)(e,[{key:"getFreshMovies",value:function(e){var t;return k.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,this.isFetching=!0,r.next=4,k.a.awrap(this.apiService.getFreshMovies(e));case 4:t=r.sent,this.movies.onCinema=t.results.map((function(e){return new A(e)})),this.isFetching=!1,r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),this.error=r.t0.message,this.isFetching=!1;case 13:case"end":return r.stop()}}),null,this,[[0,9]])}},{key:"getPopular",value:function(e){var t,r;return k.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e?"popularSeries":"popular",this.isFetching=!0,a.next=5,k.a.awrap(this.apiService.getPopular(e));case 5:r=a.sent,this.movies[t]=r.results.map((function(e){return new A(e)})),this.isFetching=!1,a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),this.error=a.t0.message,this.isFetching=!1;case 14:case"end":return a.stop()}}),null,this,[[0,10]])}},{key:"getByGenre",value:function(e){var t;return k.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,this.isFetching=!0,r.next=4,k.a.awrap(this.apiService.getByGenres([e]));case 4:t=r.sent,this.movies.genres[e]=t.results.map((function(e){return new A(e)})),this.isFetching=!1,r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),this.error=r.t0.message,this.isFetching=!1;case 13:case"end":return r.stop()}}),null,this,[[0,9]])}}]),e}(),J=Object(ee.a)(H.prototype,"isFetching",[te.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q=Object(ee.a)(H.prototype,"error",[te.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=Object(ee.a)(H.prototype,"movies",[te.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{onCinema:[],popular:[],popularSeries:[],genres:{}}}}),Object(ee.a)(H.prototype,"getFreshMovies",[K],Object.getOwnPropertyDescriptor(H.prototype,"getFreshMovies"),H.prototype),Object(ee.a)(H.prototype,"getPopular",[W],Object.getOwnPropertyDescriptor(H.prototype,"getPopular"),H.prototype),Object(ee.a)(H.prototype,"getByGenre",[Q],Object.getOwnPropertyDescriptor(H.prototype,"getByGenre"),H.prototype),H),be=(X=function(){function e(t){Object(x.a)(this,e),Object($.a)(this,"appStore",Z,this),this.searchStore=void 0,this.myMoviesStore=void 0,this.assetStore=void 0,this.genresStore=void 0,this.filterStore=void 0,this.moviesStore=void 0,this.appStore=new se(this,t),this.myMoviesStore=new pe(this),this.assetStore=new he(this,t),this.genresStore=new me(this,t),this.filterStore=new de(this),this.searchStore=new ue(this,t),this.moviesStore=new ge(this,t)}return Object(F.a)(e,[{key:"app",get:function(){return this.appStore}},{key:"search",get:function(){return this.searchStore}},{key:"myMovies",get:function(){return this.myMoviesStore}},{key:"asset",get:function(){return this.assetStore}},{key:"genres",get:function(){return this.genresStore}},{key:"filter",get:function(){return this.filterStore}},{key:"movies",get:function(){return this.moviesStore}}]),e}(),Z=Object(ee.a)(X.prototype,"appStore",[te.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X),ye=n.a.createContext(null),Ee=function(){var e=n.a.useContext(ye);if(!e)throw new Error("StoreProvider is missing");return e},Oe=Object(l.a)((function(e){var t=e.asset,r=Ee(),i=t.poster_path&&r.app.getImageUrl(t.poster_path)||"data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=",s=r.myMovies.contains(t),c=Object(a.useCallback)((function(e){e.preventDefault(),r.myMovies.contains(t)?r.myMovies.removeMovie(t):r.myMovies.addMovie(t)}),[t,r.myMovies]);return n.a.createElement(S,{asset:t,posterPath:i,isInWatchlist:s,onWatchlistClick:c})})),we=(r(125),r(126),function(e){var t=e.children;return n.a.createElement("h2",{className:"Heading"},t)});function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Se(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var _e=n.a.createElement("path",{d:"M10 50A40 40 0 0 0 90 50A40 42.3 0 0 1 10 50",fill:"#ff5209",stroke:"none",transform:"rotate(230.178 50 51.15)"},n.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",dur:"1s",repeatCount:"indefinite",keyTimes:"0;1",values:"0 50 51.15;360 50 51.15"})),ke=function(e){var t=e.svgRef,r=e.title,a=Se(e,["svgRef","title"]);return n.a.createElement("svg",je({style:{margin:"auto",background:"none",display:"block",shapeRendering:"auto"},width:"100px",height:"100px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",ref:t},a),r?n.a.createElement("title",null,r):null,_e)},xe=n.a.forwardRef((function(e,t){return n.a.createElement(ke,je({svgRef:t},e))})),Fe=(r.p,function(){return n.a.createElement(xe,null)}),Ae=(r(127),function(e){var t=e.onFilter,r=e.options,a=e.optionsIds,i=e.activeFilters;return n.a.createElement("div",{className:"Filter"},n.a.createElement("p",{className:"Filter__title"},"Filter: "),a.map((function(e){return n.a.createElement("button",{key:e,onClick:function(){return t(e)},className:j()("Filter__button",{"Filter__button--active":i.includes(e)})},r[e])})))}),Pe=Object(l.a)((function(){var e=Ee();return n.a.createElement(Ae,{onFilter:e.filter.setFilter,optionsIds:e.search.resultsGenreIds,activeFilters:e.filter.filters,options:e.genres.data||{}})})),Me=function(e){var t=e.onChange,r=e.value,a=e.isFetching,i=e.results;return n.a.createElement("div",{className:"Search"},n.a.createElement("div",{className:"Search__input-container"},n.a.createElement(g,{onChange:t,value:r,placeholder:"Search..."})),n.a.createElement("div",{className:"Search__results"},n.a.createElement("div",{className:"Search__container"},a||null!==i?n.a.createElement(we,null,"Search results"):null),n.a.createElement("div",{className:"Search__container"},null!==i&&n.a.createElement(Pe,null)),a?n.a.createElement("div",null,n.a.createElement(Fe,null)):null,i?i.map((function(e){return n.a.createElement(Oe,{key:e.id,asset:e})})):null))},De=Object(l.a)((function(){var e=Ee(),t=Object(a.useState)(""),r=Object(u.a)(t,2),i=r[0],s=r[1],c=Object(a.useRef)(h()((function(t){return e.search.searchFor(t)}),500)).current,o=Object(a.useCallback)((function(e){s(e),c(e)}),[s,c]);return n.a.createElement(Me,{onChange:o,value:i,results:e.search.filteredSearchResults,isFetching:e.search.isFetching})})),Ne=(r(128),function(e){var t=e.myMovies,r=e.isEmpty;return n.a.createElement("div",{className:"Watchlist"},n.a.createElement(we,null,"Watchlist"),n.a.createElement("div",{className:"Watchlist__results"},r?"You don't have any movies added to your watchlist.":t.map((function(e){return n.a.createElement(Oe,{key:e.id,asset:e})}))))}),Ie=Object(l.a)((function(){var e=Ee();return n.a.createElement(Ne,{myMovies:e.myMovies.data,isEmpty:e.myMovies.isEmpty})})),Be=r(56),Ce=r.n(Be),Re=r(57),Ge=r.n(Re),Le=r(58),Ue=r.n(Le),Ye=(r(144),{dots:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,variableWidth:!0,nextArrow:n.a.createElement((function(e){return n.a.createElement("div",e,n.a.createElement(v.Icon,{icon:Ge.a}))}),null),prevArrow:n.a.createElement((function(e){return n.a.createElement("div",e,n.a.createElement(v.Icon,{icon:Ue.a}))}),null)}),ze=function(e){var t=e.items,r=e.title;return Array.isArray(t)&&t.length?n.a.createElement("div",{className:"Lane"},n.a.createElement(we,null,r),n.a.createElement(Ce.a,Object.assign({className:"Lane__results"},Ye),t.map((function(e){return n.a.createElement(Oe,{key:e.id,asset:e})})))):null},Te=99,Ke=10751,We=Te,Qe=Ke,He=Object(l.a)((function(){var e=Ee();return n.a.createElement("div",{className:"Home"},n.a.createElement(De,null),n.a.createElement(ze,{title:"Popular movies",items:e.movies.movies.popular}),n.a.createElement(ze,{title:"Popular series",items:e.movies.movies.popularSeries}),n.a.createElement(ze,{title:"Family",items:e.movies.movies.genres[Qe]}),n.a.createElement(ze,{title:"Documentary",items:e.movies.movies.genres[We]}),n.a.createElement(Ie,null))})),Je=r(59),qe=(r(145),r(34)),Ve=function e(t){var r=this,a=t.url,n=t.video;Object(x.a)(this,e),this.url=void 0,this.video=void 0,this.player=void 0,this.init=function(){qe.polyfill.installAll(),qe.Player.isBrowserSupported()?r.initPlayer():r.onError(new Error("Browser not supported"))},this.initPlayer=function(){var e;return k.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new qe.Player(r.video)).addEventListener("error",r.onError),t.prev=2,t.next=5,k.a.awrap(e.load(r.url));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),r.onError(t.t0);case 10:case"end":return t.stop()}}),null,null,[[2,7]])},this.deInitialize=function(){r.player&&r.player.removeEventListener("error"),r.player=null},this.onError=function(e){return window.alert(e.message)},this.url=a,this.video=n,this.player=null,this.init()},Xe=(r(146),function(e){var t=e.url,r=e.poster,i=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e;return i&&i.current&&(e=new Ve({url:t,video:i.current})),function(){e&&e.deInitialize()}}),[t,i]),n.a.createElement("div",{className:"Player"},n.a.createElement("video",{ref:i,id:"video",width:"100%",height:"100%",poster:r,controls:!0,autoPlay:!0}))}),Ze=(r(147),function(e){var t=e.to,r=e.caption;return n.a.createElement(c.b,{className:"Button",to:t},r)}),$e=function(e){var t=e.asset,r=e.imgUrl;return n.a.createElement("div",{className:"Details"},n.a.createElement("div",{className:"Details__overlay"},n.a.createElement("div",{className:"Details__details-container"},t?n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{className:"Details__title"},t.title),n.a.createElement("p",null,t.overview),n.a.createElement("div",{className:"Details__meta"},n.a.createElement("span",{className:"Details__meta-item"},Object(Je.formatDate)(new Date(t.release_date)))),n.a.createElement("div",{className:"Details__meta"},t.genres&&n.a.createElement("div",{className:"Details__secondary Details__meta-item"},n.a.createElement("span",{className:"font-bold"},"Categories: "),t.genres.map((function(e){return e.name})).join(", "))),n.a.createElement(Ze,{to:"/player/".concat(t.isSeries?"series":"movie","/").concat(t.id),caption:"Play asset"})):null),r&&n.a.createElement("div",{className:"Details__image-container"},n.a.createElement("img",{className:"Details__image",src:r,alt:""}))))},et=Object(l.a)((function(e){var t=e.asset,r=Ee(),a=t.poster_path?r.app.getImageUrl(t.poster_path):null;return n.a.createElement($e,{asset:t,imgUrl:a})})),tt=function(e){var t=e.asset;return e.isLoading?n.a.createElement(Fe,null):null===t?n.a.createElement("span",null,"error"):n.a.createElement(et,{asset:t})},rt=Object(l.a)((function(e){var t=e.match,r=Ee();return Object(a.useEffect)((function(){var e=t.params,a=e.id;"series"===e.assetType?r.asset.fetchSeries(a):r.asset.fetchMovie(a)}),[t.params,r.asset]),n.a.createElement(tt,{asset:r.asset.data,isLoading:r.asset.isFetching})})),at=r(60),nt=r.n(at),it=(r(148),Object(l.a)((function(e){var t=e.match,r=Ee(),i=Object(a.useState)(!0),s=Object(u.a)(i,2),c=s[0],l=s[1],p=Object(o.f)(),h=r.asset,f=t.params,m=f.id,d=f.assetType;Object(a.useEffect)((function(){"series"===d?h.fetchSeries(m):h.fetchMovie(m)}),[t.params,h]),Object(a.useEffect)((function(){c&&window.setTimeout((function(){return l(!1)}),2e3)}),[c]);var g=h.data&&h.data.poster_path?r.app.getImageUrl(h.data.poster_path):null;return n.a.createElement("div",{className:"PlayerPage",onMouseMove:function(){return l(!0)},onTouchStart:function(){return l(!0)}},c&&n.a.createElement("div",{className:"PlayerPage__close",onClick:function(){p.push("/".concat(d,"/").concat(m))}},n.a.createElement(v.Icon,{icon:nt.a})),n.a.createElement(Xe,{url:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",poster:g||""}))}))),st=function(){return n.a.createElement(c.a,null,n.a.createElement(o.c,null,n.a.createElement(o.a,{path:"/player/:assetType/:id",component:it}),n.a.createElement(o.a,{path:"/:assetType/:id",component:rt}),n.a.createElement(o.a,{component:He})))},ct=r(9),ot=Te,lt=Ke,ut=Object(ct.c)((function(){var e=Ee();return Object(a.useEffect)((function(){e.app.configure(),e.genres.getGenres(),e.movies.getPopular(),e.movies.getPopular(!0),e.movies.getByGenre(lt),e.movies.getByGenre(ot)}),[e.app,e.genres,e.movies]),n.a.createElement(st,null)}));r(149);s.a.render(n.a.createElement((function(e){var t=e.children,r=Object(l.b)((function(){return new be(new P)}));return n.a.createElement(ye.Provider,{value:r},t)}),null,n.a.createElement(ut,null)),document.getElementById("root"))},46:function(e,t,r){"use strict"},47:function(e,t){},48:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var a=function(e){return e.toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"})}},59:function(e,t,r){"use strict";r(46);var a=r(47);r.o(a,"formatDate")&&r.d(t,"formatDate",(function(){return a.formatDate}));var n=r(48);r.d(t,"formatDate",(function(){return n.a}))},61:function(e,t,r){e.exports=r(150)},69:function(e,t,r){},77:function(e,t,r){},78:function(e,t,r){}},[[61,1,2]]]);
//# sourceMappingURL=main.6ddc99b3.chunk.js.map